# Tmux Disk Cleaning Popup Keybindings
# Add these to: ~/.core/.sys/cfg/tmux/keymaps/popups.conf
# ============================================================

# == Disk Cleaning Tools ==

# Main disk menu popup (M-d)
# bind -n -N "Open disk cleaning menu" \
#   if -F '#{==:#S,apps}' \
#     'detach' \
#     'run-shell "$TMUX_MODULES/popups/disk-menu.sh"'

# GDU scan popup - scans current pane directory (M-D)
# bind -n -N "Open GDU disk scan (current dir)" M-D \
#   display-popup -E -w 95% -h 90% -T " Disk Usage: #{pane_current_path} " \
#     "gdu #{pane_current_path}"
#
# # Quick overview popup (prefix + d + o)
# bind -N "Disk overview popup" -T prefix d \
#   switch-client -T disk-tools
#
# bind -N "Disk overview" -T disk-tools o \
#   display-popup -E -w 80% -h 70% -T " Disk Overview " \
#     "zsh -ic 'disk-overview; read -k1'"
#
# # Big files finder popup (prefix + d + b)
# bind -N "Find big files" -T disk-tools b \
#   display-popup -E -w 90% -h 80% -T " Large Files (>100MB) " \
#     "zsh -ic 'find-by-size 100M'"
#
# # Duplicate finder popup (prefix + d + d)
# bind -N "Find duplicates" -T disk-tools d \
#   display-popup -E -w 90% -h 80% -T " Duplicate Finder " \
#     "zsh -ic 'dedupe-interactive #{pane_current_path}'"
#
# # Cleanup wizard popup (prefix + d + w)
# bind -N "Cleanup wizard" -T disk-tools w \
#   display-popup -E -w 85% -h 85% -T " Cleanup Wizard " \
#     "zsh -ic 'clean-wizard'"
#
# # Space suggestions popup (prefix + d + s)
# bind -N "Space suggestions" -T disk-tools s \
#   display-popup -E -w 70% -h 60% -T " Space Recovery Suggestions " \
#     "zsh -ic 'space-suggestions; read -k1'"
#
# # Empty directories popup (prefix + d + e)
# bind -N "Clean empty dirs" -T disk-tools e \
#   display-popup -E -w 80% -h 70% -T " Empty Directories " \
#     "zsh -ic 'clean-empty'"
#
# # Cloud backup popup (prefix + d + c)
# bind -N "Cloud backup" -T disk-tools c \
#   display-popup -E -w 90% -h 80% -T " Cloud Backup " \
#     "zsh -ic 'cloud-backup-large'"
#
# # Cloud browse popup (prefix + d + r)
# bind -N "Cloud browse" -T disk-tools r \
#   display-popup -E -w 90% -h 90% -T " Cloud Browser " \
#     "zsh -ic 'cloud-browse'"
#
# # Storage trends popup (prefix + d + t)
# bind -N "Storage trends" -T disk-tools t \
#   display-popup -E -w 70% -h 60% -T " Storage Trends " \
#     "zsh -ic 'storage-log show; read -k1'"
#
# # Archive search popup (prefix + d + a)
# bind -N "Archive search" -T disk-tools a \
#   display-popup -E -w 90% -h 80% -T " Archive Search (rga) " \
#     "zsh -ic 'search-archives'"
#
# # Inode check popup (prefix + d + i)
# bind -N "Inode check" -T disk-tools i \
#   display-popup -E -w 70% -h 60% -T " Inode Usage " \
#     "zsh -ic 'check-inodes; read -k1'"
#
# # ncdu popup (prefix + d + n)
# bind -N "ncdu scan" -T disk-tools n \
#   display-popup -E -w 95% -h 90% -T " ncdu: #{pane_current_path} " \
#     "ncdu --color dark #{pane_current_path}"
#
# # dust quick view (prefix + d + u)
# bind -N "dust quick view" -T disk-tools u \
#   display-popup -E -w 80% -h 70% -T " Directory Sizes " \
#     "dust -d 2 #{pane_current_path}; read -k1"
#
#
# # == Quick Access Shortcuts (no prefix needed) ==
#
# # Quick GDU for home directory
# bind -n -N "GDU home scan" C-M-d \
#   display-popup -E -w 95% -h 90% -T " Disk Usage: ~ " \
#     "gdu ~"
#
# # Quick big files check
# bind -n -N "Quick big files" C-M-b \
#   display-popup -E -w 90% -h 80% -T " Files > 500MB " \
#     "zsh -ic 'fd --type f --size +500M ~ | fzf --preview=\"du -h {}\" --preview-window=up:3'"
