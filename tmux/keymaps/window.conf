# Window creation
# bind -n M-z resize-pane -Z

# New window with directory picker (fzf)
bind -N "New window in directory (fzf)" c run-shell '$TMUX_CONF/modules/fzf/pickers/window-dir-picker.sh'

# Window navigation
# bind -N 'Select prev window' q \
#      if -F '#{>:#{session_windows},1}' 'previous-window' 'neww -c "#{pane_current_path}"'
# bind -N 'Select next window' e \
#      if -F '#{>:#{session_windows},1}' 'next-window' 'neww -c "#{pane_current_path}"'

# bind -n -N 'Select prev window' S-Left \
#      if -F '#{>:#{session_windows},1}' { previous-window } { neww -c "#{pane_current_path}" }
# bind -n -N 'Select next window' S-Right \
     # if -F '#{>:#{session_windows},1}' { next-window }     { neww -c "#{pane_current_path}" }


# ── Context-Aware Window/Buffer Navigation ────────────────────────────────────
# C-q/C-e: Navigate tmux windows OR pass to neovim for buffer navigation
# Uses @tmux-context-mode to determine behavior - can be manually overridden
# When context is NEOVIM: send keys to nvim for buffer navigation
# When context is TMUX: navigate tmux windows
bind-key -n C-q if-shell -F "#{==:#{@tmux-context-mode},NEOVIM}" \
    "send-keys C-q" \
    "previous-window"
bind-key -n C-e if-shell -F "#{==:#{@tmux-context-mode},NEOVIM}" \
    "send-keys C-e" \
    "next-window"

# ARCHIVED: Old M-u/M-o bindings (replaced by C-q/C-e context-aware bindings)
# bind -n M-u previous-window
# bind -n M-o next-window
